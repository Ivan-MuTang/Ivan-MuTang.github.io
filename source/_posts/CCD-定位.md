---
title: CCD-定位
date: 2024-09-20 10:07:23
updated: 2024-09-20 10:07:23
abbrlink: sk39wb
categories:
  - /
tags:
  - ccd
  - 说明书
copyright_author: JISI
copyright_author_href: https://jisicn.top
copyright_url: https://jisicn.top
copyright_info: 此文章版權歸东莞集思所有，如有轉載，請註明來自原作者
top: 
top_img: 
hidden: false
cover: https://tc.jisicn.top/img/202409201240286.png
---

# ROI定位
## 一、关于定位
什么是**定位** ？
从字面理解“定位”这两个字的字面意思可以从“定”和“位”两个字拆开来理解：
1. **定**：有“确定”、“固定”的意思，表示一个状态是稳定的、明确的，不易改变。
2. **位**：通常指位置、方位，表示某个具体的空间点、场所或位置。

结合起来，“定位”表示**确定一个位置**，可以指将某物或某人放置到一个特定的地方，或者确定其所在的位置。

而在视觉里面，定位就是先确定产品一个特征位置，如边、圆心、中心等，后续生产中如果产品位置发生变化，就可以通过前面确定的特征位置来定位跟踪产品的实时位置。

## 二、定位的目的
定位的目的首先就是跟踪产品的实时位置，因为产品在治具或轨道内由于设计上的间隙等原因肯定会存在位置偏差，而定位到产品的实时位置之后，就可以让与定位框绑定的ROI同步跟着产品移动，从而提供抓点的精准度。

## 三、怎么看定位框与检测框之前的关系？

    解答：在右侧ROI页面中随便点开一个测试的ROI，确认下面的X定位与Y定位
    如果X定位是“-1”，表示当前框水平方向没有定位
    如果Y定位是“-1”，表示当前框坚直方向没有定位
    如果X与Y都是“-1”，则表示当前框在水平与坚直方向都没有定位

如下图，左侧参数中显示X定位“0”，Y定位“1”，表示当前16号框，以0号框数据作水平方向跟踪，以1号框数据作坚直方向跟踪

![11404a7534472e3fa768de1a1ab4cca.png](https://tc.jisicn.top/img/202409031749503.png)

## 四、定位框的几种方式
一、抓边定位：
通常用来定位单个方向X方向或Y方向，通过算法如`水平垂直线高级`抓取目标位置(最高、低点，最左、右点)。

	如果后面的ROI需要X与Y方向同时定位，而当前图像中既无法抓圆心也没有中心时建议使用两个框分别抓取左右及上下位置分开定位。

二、抓圆心定位：
通过找圆算法来扫描圆心，用圆心坐标来实现定位。圆心往往是通过多个点才能确定（至少三个点才能确定一个圆）所以圆心通常是比较准的位置。

	一个框扫描出的圆心可以同时被用作X和Y定位。

三、抓中心定位：
通过扫描某个区域（一个封闭的白色或黑色区域）来提供区域的中心坐标来实现定位。

	中心位置通常相对也较准，可以同时被用作X和Y定位。

注：定位是可以混合使用的，在同一个模版内即可以有抓边、圆心，也可以同时包换区域中心，只需后续添加的ROI参数下方X、Y定位设定绑定正确。

## 五、定位的使用
使用很简单，在做模版时先做定位框，然后在后续增加的ROI参数下设定X定位、Y定位的参数，"-1" ：表示取消定位，假如前面做的定位框编号为"0"，X或Y定位填入"0"。

	注：设定完之后，切记将鼠标移动后图像上右键保存ROI
	注：设定完之后，切记将鼠标移动后图像上右键保存ROI
	注：设定完之后，切记将鼠标移动后图像上右键保存ROI

取消定位也是同理，先输入"-1"再将鼠标移动后图像上右键保存ROI。

	小提示：如下图箭头指向处，如果定位成功会显示数据，而取消定位则时显示0.数据是在鼠标右键点击保存ROI后会刷新


<div align="center"><img src="https://tc.jisicn.top/img/202409201118233.png" width="30%" height="50%"></img></div>

## 六、高级设定
理解了上面的定位原理及设定之后，当有很多ROI时，如果需要更新定位，一个一个点肯定很费时间，此时我们通过在ROI设定内点右键，选择**全局定位**，程序会自动刷新所有的数据。

<div align="center"><img src="https://tc.jisicn.top/img/202409201149770.png" width="30%" height="50%"></img></div>

	注：点全局定位之前一定要先确认每一个检测框的ROI都是在正确的位置，如果此时有ROI的位置不正确，点了全局定位之后，后面就可能会一直在不正确的位置，造成误判从而影响测量。
	
	小提示：
	平时在调试时，相同的产品在第一次做好模版之后，如果要移动框，尽量用“整体移动”，保证整体框架的稳定性。整体移动之后再全局定位。

<div align="center"><img src="https://tc.jisicn.top/img/202409201203727.png" width="50%" height="50%"></img></div>

---

<div align="center"><img src="https://tc.jisicn.top/img/202405031228351.jpeg" width="100%" height="50%"></img></div>

---

<center><a href="https://www.jisicn.top" target="_blank">东莞集思光电科技有限公司</a></center>
<center><a href="https://www.jisicn.top" target="_blank">https://www.jisicn.top</a></center>
<center><a href="Https://www.dgjisi.eu.org" target="_blank">https://www.dgjisi.eu.org</a></center>

----

## 如何获取最新CCD程序

关注公众号，并发送`CCD`获取

<div align="center">
    <img src="https://tc.jisicn.top/img/202404251607047.png" width="40%" height="40%"></img>
</div>

------

<div align='center' ><font size='50'>END THANKS</font></div>
<div align='center'><font size='3'><b>联系人：周生  18029199900 「dgjisi@foxmail.com」</b></font></div>